<!DOCTYPE html>




<html lang="en">
  <head>
    <meta charset="utf-8" />
    
    <title>Quick Start &mdash; numba 0.16.0_194_gd28fb6b-py2.7-linux-x86_64.egg documentation</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    
<link rel="stylesheet" href="_static/css/basicstrap-base.css" type="text/css" />
<link rel="stylesheet" href="_static/css/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="_static/css/font-awesome.min.css">
<!--[if IE 7]>
<link rel="stylesheet" href="_static/css/font-awesome-ie7.min.css">
<![endif]-->
<style type="text/css">
  body {
    padding-top: 60px;
    padding-bottom: 40px;
  }
}
</style>
<link rel="stylesheet" href="_static/basicstrap.css" type="text/css" />
<link rel="stylesheet" href="_static/pygments.css" type="text/css" />
<link rel="stylesheet" href="_static/css/bootstrap-responsive.min.css" type="text/css" />
    
<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    './',
            VERSION:     '0.16.0_194_gd28fb6b-py2.7-linux-x86_64.egg',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="_static/js/jquery.min.js"></script>
<script type="text/javascript" src="_static/underscore.js"></script>
<script type="text/javascript" src="_static/doctools.js"></script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/javascript" src="_static/js/bootstrap.min.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    $('.show-sidebar').click(function(e) {
       e.preventDefault();
       if ($(".show-sidebar").html() == "Open Table Of Contents") {
          $('.for-mobile').removeClass('hidden-phone');
          $(".show-sidebar").html("Close Table Of Contents");
       } else {
          $(".show-sidebar").html("Open Table Of Contents");
       }
    });
  });
</script>
    <link rel="top" title="numba 0.16.0_194_gd28fb6b-py2.7-linux-x86_64.egg documentation" href="index.html" />
    <link rel="next" title="Types" href="types.html" />
    <link rel="prev" title="Installation" href="install.html" /> 
  </head>
  <body>
    <div class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="index.html">numba 0.16.0_194_gd28fb6b-py2.7-linux-x86_64.egg documentation</a>
          <div class="nav-collapse collapse">
            <ul class="nav pull-right">
              
                <li>
                <a href="genindex.html" title="General Index" accesskey="I">index</a>
                </li>
                <li>
                <a href="py-modindex.html" title="Python Module Index" >modules</a>
                </li>
                <li>
                <a href="types.html" title="Types" accesskey="N">next</a>
                </li>
                <li>
                <a href="install.html" title="Installation" accesskey="P">previous</a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </div>
    

    <!-- container -->
    <div class="container-fluid">


      
      <div class="row-fluid hidden-desktop hidden-tablet">
      
<div class="span3 ">
  <a class="visible-phone btn btn-small show-sidebar" data-toggle="collapse" data-target=".for-mobile">Open Table Of Contents</a>
  <div class="for-mobile sidebar hidden-phone">
  <h4>Previous topic</h4>
  <p class="topless"><a href="install.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="types.html"
                        title="next chapter">Types</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/quickstart.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox">
  <h3>Quick search</h3>
  <form class="search form-search" action="search.html" method="get">
      <div class="input-append">
        <input type="text" class="search-query" name="q">
        <input type="submit" class="btn" value="Go" />
      </div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
  </div>
</div>
      </div>
      

      <!-- row -->
      <div class="row-fluid">
         
<div class="span3 visible-desktop visible-tablet">
  <div class=" sidebar hidden-phone">
  <h4>Previous topic</h4>
  <p class="topless"><a href="install.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="types.html"
                        title="next chapter">Types</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/quickstart.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox">
  <h3>Quick search</h3>
  <form class="search form-search" action="search.html" method="get">
      <div class="input-append">
        <input type="text" class="search-query" name="q">
        <input type="submit" class="btn" value="Go" />
      </div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
  </div>
</div> 
        

        <div class="span9">
          <div class="document">
            <div class="documentwrapper">
              <div class="bodywrapper">
                <div class="body">
                  
  <div class="section" id="quick-start">
<h1>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">Â¶</a></h1>
<p>Numba compiles Python code to LLVM IR which can be natively executed at runtime
much faster than pure Python code. The first step to using Numba is becoming
familiar with the <tt class="docutils literal"><span class="pre">jit</span></tt> decorator, which tells Numba which functions to
compile:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">numba</span> <span class="kn">import</span> <span class="n">jit</span>

<span class="nd">@jit</span>
<span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</pre></div>
</div>
<p>The very basic example above is compiled for any compatible input types
automatically when the <tt class="docutils literal"><span class="pre">sum</span></tt> function is called. The result is a new function
with performance comparable to a compiled function written in C (assuming best
case scenario; more on that later). To compile for specific input types, we
can tell Numba what those input types are:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@jit</span><span class="p">(</span><span class="s">&#39;f8(f8,f8)&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</pre></div>
</div>
<p>The string above passed to the <tt class="docutils literal"><span class="pre">jit</span></tt> decorator tells Numba the return type is an
8 byte float, and the two arguments passed in are also 8 byte floats. The
string takes the form <tt class="docutils literal"><span class="pre">returntype(arg1type,</span> <span class="pre">arg2type,</span> <span class="pre">...)</span></tt>.</p>
<p>One of the main features of Numba is it&#8217;s support for NumPy arrays. The
following example shows how a function can be compiled that takes a NumPy array
of floats as an input:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@jit</span><span class="p">(</span><span class="s">&#39;f8(f8[:])&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">sum1d</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
    <span class="nb">sum</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">array</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="nb">sum</span> <span class="o">+=</span> <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">sum</span>
</pre></div>
</div>
<p>There are two main things to notice in the example above. The input argument is
specified by the string <tt class="docutils literal"><span class="pre">f8[:]</span></tt>, which means a 1d array of 8 byte floats. A
2d array would be specified as <tt class="docutils literal"><span class="pre">f8[:,</span> <span class="pre">:]</span></tt>, a 3d array as <tt class="docutils literal"><span class="pre">f8[:,</span> <span class="pre">:,</span> <span class="pre">:]</span></tt>, and
so on. The other thing to take note of is the array indexing and shape method
call, and the fact that we&#8217;re iterating over a NumPy array using Python.
Normally this would be terribly slow and would be cause for writing a NumPy
ufunc in C, but the performance of the code above is the same as NumPy&#8217;s
<tt class="docutils literal"><span class="pre">sum</span></tt> method.</p>
<p>Numba can also infer the array type automatically like other elementary types:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@jit</span>
<span class="k">def</span> <span class="nf">sum1d</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Numba&#8217;s elementary built in types in are summarized in the table below and can
be found in the <tt class="docutils literal"><span class="pre">numba</span></tt> namespace.</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="15%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type Name</th>
<th class="head">Alias</th>
<th class="head">Result Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>boolean</td>
<td>b1</td>
<td>uint8 (char)</td>
</tr>
<tr class="row-odd"><td>bool_</td>
<td>b1</td>
<td>uint8 (char)</td>
</tr>
<tr class="row-even"><td>byte</td>
<td>u1</td>
<td>unsigned char</td>
</tr>
<tr class="row-odd"><td>uint8</td>
<td>u1</td>
<td>uint8 (char)</td>
</tr>
<tr class="row-even"><td>uint16</td>
<td>u2</td>
<td>uint16</td>
</tr>
<tr class="row-odd"><td>uint32</td>
<td>u4</td>
<td>uint32</td>
</tr>
<tr class="row-even"><td>uint64</td>
<td>u8</td>
<td>uint64</td>
</tr>
<tr class="row-odd"><td>char</td>
<td>i1</td>
<td>signed char</td>
</tr>
<tr class="row-even"><td>int8</td>
<td>i1</td>
<td>int8 (char)</td>
</tr>
<tr class="row-odd"><td>int16</td>
<td>i2</td>
<td>int16</td>
</tr>
<tr class="row-even"><td>int32</td>
<td>i4</td>
<td>int32</td>
</tr>
<tr class="row-odd"><td>int64</td>
<td>i8</td>
<td>int64</td>
</tr>
<tr class="row-even"><td>float_</td>
<td>f4</td>
<td>float32</td>
</tr>
<tr class="row-odd"><td>float32</td>
<td>f4</td>
<td>float32</td>
</tr>
<tr class="row-even"><td>double</td>
<td>f8</td>
<td>float64</td>
</tr>
<tr class="row-odd"><td>float64</td>
<td>f8</td>
<td>float64</td>
</tr>
<tr class="row-even"><td>complex64</td>
<td>c8</td>
<td>float complex</td>
</tr>
<tr class="row-odd"><td>complex128</td>
<td>c16</td>
<td>double complex</td>
</tr>
</tbody>
</table>
<p>Native platform-dependent types are also available under names such as
<tt class="docutils literal"><span class="pre">int_</span></tt>, <tt class="docutils literal"><span class="pre">short</span></tt>, <tt class="docutils literal"><span class="pre">ulonglong</span></tt>, etc.</p>
<p>Function signatures can also be expressed with the type objects directly as
opposed to using strings. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">numba</span> <span class="kn">import</span> <span class="n">jit</span><span class="p">,</span> <span class="n">f8</span>

<span class="nd">@jit</span><span class="p">(</span><span class="n">f8</span><span class="p">(</span><span class="n">f8</span><span class="p">[:]))</span>
<span class="k">def</span> <span class="nf">sum1d</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>In the example above, the argument type object is passed in to the return type
object&#8217;s constructor.</p>
<p>Numba attempts to compile everything down to LLVM IR, but in some cases this
isn&#8217;t (yet) possible. If Numba can&#8217;t infer the type of a variable or doesn&#8217;t
support a particular data type, it falls back to using Python objects. This is
of course much slower. If you&#8217;re having performance issues and suspect Python
objects are to blame, you can use the <tt class="docutils literal"><span class="pre">nopython</span></tt> flag to force Numba to abort
if it can&#8217;t avoid using Python objects:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@jit</span><span class="p">(</span><span class="n">nopython</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">sum1d</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Another useful debugging tool is Numba&#8217;s new <tt class="docutils literal"><span class="pre">inspect_types</span></tt> method. This can
be called for any Numba compiled function to get a listing of the Numba IR
generated from the Python code as well as the inferred types of each variable:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sum1d</span><span class="o">.</span><span class="n">inspect_types</span><span class="p">()</span>
<span class="go">sum1d (array(float64, 1d, A),) -&gt; float64</span>
<span class="go">``-----------------------------------------------------------------------``</span>
<span class="go"># --- LINE 5 ---</span>

<span class="go">@jit(&#39;f8(f8[:])&#39;)</span>

<span class="go"># --- LINE 6 ---</span>

<span class="go">def sum1d(array):</span>

<span class="go">    # --- LINE 7 ---</span>
<span class="go">    # label 0</span>
<span class="go">    #   $0.1 = const(&lt;type &#39;float&#39;&gt;, 0.0)  :: float64</span>
<span class="go">    #   sum = $0.1  :: float64</span>

<span class="go">    sum = 0.0</span>

<span class="go">    # --- LINE 8 ---</span>
<span class="go">    #   jump 6</span>
<span class="go">    # label 6</span>
<span class="go">    #   $6.1 = global(range: &lt;built-in function range&gt;)  :: range</span>
<span class="go">    #   $6.2 = getattr(attr=shape, value=array)  :: (int64 x 1)</span>
<span class="go">    #   $6.3 = const(&lt;type &#39;int&#39;&gt;, 0)  :: int32</span>
<span class="go">    #   $6.4 = getitem(index=$6.3, target=$6.2)  :: int64</span>
<span class="go">    #   $6.5 = call $6.1($6.4, )  :: (int64,) -&gt; range_state64</span>
<span class="go">    #   $6.6 = getiter(value=$6.5)  :: range_iter64</span>
<span class="go">    #   jump 26</span>
<span class="go">    # label 26</span>
<span class="go">    #   $26.1 = iternext(value=$6.6)  :: int64</span>
<span class="go">    #   $26.2 = itervalid(value=$6.6)  :: bool</span>
<span class="go">    #   branch $26.2, 29, 50</span>
<span class="go">    # label 29</span>
<span class="go">    #   $29.1 = $26.1  :: int64</span>
<span class="go">    #   i = $29.1  :: int64</span>

<span class="go">    for i in range(array.shape[0]):</span>

<span class="go">        # --- LINE 9 ---</span>
<span class="go">        # label 49</span>
<span class="go">        #   del $6.6</span>
<span class="go">        #   $29.2 = getitem(index=i, target=array)  :: float64</span>
<span class="go">        #   $29.3 = sum + $29.2  :: float64</span>
<span class="go">        #   sum = $29.3  :: float64</span>
<span class="go">        #   jump 26</span>

<span class="go">        sum += array[i]</span>

<span class="go">    # --- LINE 10 ---</span>
<span class="go">    #   jump 50</span>
<span class="go">    # label 50</span>
<span class="go">    #   return sum</span>

<span class="go">    return sum</span>
</pre></div>
</div>
<p>For get a better feel of what Numba can do, see <a class="reference internal" href="examples.html#id1"><em>Examples</em></a>.</p>
</div>


                </div>
              </div>
            </div>
          </div>
        </div>
        
        
      </div><!-- /row -->

      <!-- row -->
      <div class="row-fluid">
<div class="related navbar ">
  <div class="navbar-inner">
    <ul class="nav pull-right">
      
        <li><a href="genindex.html" title="General Index" >index</a></li>
        <li><a href="py-modindex.html" title="Python Module Index" >modules</a></li>
        <li><a href="types.html" title="Types" >next</a></li>
        <li><a href="install.html" title="Installation" >previous</a></li>
        <li><a href="index.html">numba 0.16.0_194_gd28fb6b-py2.7-linux-x86_64.egg documentation</a></li> 
      
    </ul>
  </div>
</div>
      </div><!-- /row -->

      <!-- footer -->
      <footer>
          &copy; Copyright 2012-2014, Continuum Analytics.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.
      </footer>
      <!-- /footer -->

    </div>
    <!-- /container -->

  </body>
</html>